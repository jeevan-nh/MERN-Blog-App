{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jhemmann\\\\Documents\\\\Rest_api\\\\MERN-3\\\\blogApplication\\\\client\\\\src\\\\containers\\\\posts\\\\CreatePostPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport PostForm from \"../../components/posts/PostForm\";\nimport Validate from \"../../components/form/Validate\";\nimport { connect } from \"react-redux\";\nimport { createPost } from \"../../actions/postActions\";\n\nconst CreatePostPage = ({\n  errors,\n  createPost,\n  loading,\n  history\n}) => {\n  const [post, setPost] = useState({\n    title: \"\",\n    body: \"\",\n    errors: {}\n  });\n  useEffect(() => {\n    setPost(post => {\n      return { ...post,\n        errors\n      };\n    });\n  }, [errors]);\n\n  const handleChange = e => {\n    setPost({ ...post,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleBlur = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    const error = { ...post.errors,\n      ...Validate(name, value).errors\n    };\n    setPost({ ...post,\n      errors: { ...error\n      }\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const {\n      title,\n      body\n    } = post;\n    createPost({\n      title,\n      body\n    }, history);\n  };\n\n  return /*#__PURE__*/React.createElement(PostForm, {\n    loading: loading,\n    post: post,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  });\n};\n\nconst mapStateToProps = state => ({\n  loading: state.post.postLoading,\n  errors: state.errors\n});\n\nCreatePostPage.propTypes = {\n  createPost: PropTypes.func.isRequired,\n  errors: PropTypes.object.isRequired,\n  loading: PropTypes.bool.isRequired\n};\nexport default connect(mapStateToProps, {\n  createPost\n})(CreatePostPage);","map":{"version":3,"sources":["C:/Users/jhemmann/Documents/Rest_api/MERN-3/blogApplication/client/src/containers/posts/CreatePostPage.js"],"names":["React","useState","useEffect","PropTypes","PostForm","Validate","connect","createPost","CreatePostPage","errors","loading","history","post","setPost","title","body","handleChange","e","target","name","value","handleBlur","error","handleSubmit","preventDefault","mapStateToProps","state","postLoading","propTypes","func","isRequired","object","bool"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,2BAA3B;;AAEA,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUF,EAAAA,UAAV;AAAsBG,EAAAA,OAAtB;AAA+BC,EAAAA;AAA/B,CAAD,KAA8C;AAClE,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC;AAC9Ba,IAAAA,KAAK,EAAE,EADuB;AAE9BC,IAAAA,IAAI,EAAE,EAFwB;AAG9BN,IAAAA,MAAM,EAAE;AAHsB,GAAD,CAAhC;AAMAP,EAAAA,SAAS,CAAC,MAAM;AACbW,IAAAA,OAAO,CAACD,IAAI,IAAI;AACb,aAAO,EAAE,GAAGA,IAAL;AAAWH,QAAAA;AAAX,OAAP;AACF,KAFM,CAAP;AAGF,GAJQ,EAIN,CAACA,MAAD,CAJM,CAAT;;AAMA,QAAMO,YAAY,GAAGC,CAAC,IAAI;AACvBJ,IAAAA,OAAO,CAAC,EACL,GAAGD,IADE;AAEL,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFrB,KAAD,CAAP;AAIF,GALD;;AAOA,QAAMC,UAAU,GAAGJ,CAAC,IAAI;AACrB,UAAM;AAAEE,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBH,CAAC,CAACC,MAA1B;AACA,UAAMI,KAAK,GAAG,EAAE,GAAGV,IAAI,CAACH,MAAV;AAAkB,SAAGJ,QAAQ,CAACc,IAAD,EAAOC,KAAP,CAAR,CAAsBX;AAA3C,KAAd;AACAI,IAAAA,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAWH,MAAAA,MAAM,EAAE,EAAE,GAAGa;AAAL;AAAnB,KAAD,CAAP;AACF,GAJD;;AAMA,QAAMC,YAAY,GAAGN,CAAC,IAAI;AACvBA,IAAAA,CAAC,CAACO,cAAF;AACA,UAAM;AAAEV,MAAAA,KAAF;AAASC,MAAAA;AAAT,QAAkBH,IAAxB;AACAL,IAAAA,UAAU,CAAC;AAAEO,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAD,EAAkBJ,OAAlB,CAAV;AACF,GAJD;;AAMA,sBACG,oBAAC,QAAD;AACG,IAAA,OAAO,EAAED,OADZ;AAEG,IAAA,IAAI,EAAEE,IAFT;AAGG,IAAA,QAAQ,EAAEI,YAHb;AAIG,IAAA,MAAM,EAAEK,UAJX;AAKG,IAAA,QAAQ,EAAEE,YALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH;AASF,CAzCD;;AA2CA,MAAME,eAAe,GAAGC,KAAK,KAAK;AAC/BhB,EAAAA,OAAO,EAAEgB,KAAK,CAACd,IAAN,CAAWe,WADW;AAE/BlB,EAAAA,MAAM,EAAEiB,KAAK,CAACjB;AAFiB,CAAL,CAA7B;;AAKAD,cAAc,CAACoB,SAAf,GAA2B;AACxBrB,EAAAA,UAAU,EAAEJ,SAAS,CAAC0B,IAAV,CAAeC,UADH;AAExBrB,EAAAA,MAAM,EAAEN,SAAS,CAAC4B,MAAV,CAAiBD,UAFD;AAGxBpB,EAAAA,OAAO,EAAEP,SAAS,CAAC6B,IAAV,CAAeF;AAHA,CAA3B;AAMA,eAAexB,OAAO,CACnBmB,eADmB,EAEnB;AAAElB,EAAAA;AAAF,CAFmB,CAAP,CAGbC,cAHa,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport PostForm from \"../../components/posts/PostForm\";\r\nimport Validate from \"../../components/form/Validate\";\r\nimport { connect } from \"react-redux\";\r\nimport { createPost } from \"../../actions/postActions\";\r\n\r\nconst CreatePostPage = ({ errors, createPost, loading, history }) => {\r\n   const [post, setPost] = useState({\r\n      title: \"\",\r\n      body: \"\",\r\n      errors: {}\r\n   });\r\n\r\n   useEffect(() => {\r\n      setPost(post => {\r\n         return { ...post, errors };\r\n      });\r\n   }, [errors]);\r\n\r\n   const handleChange = e => {\r\n      setPost({\r\n         ...post,\r\n         [e.target.name]: e.target.value\r\n      });\r\n   };\r\n\r\n   const handleBlur = e => {\r\n      const { name, value } = e.target;\r\n      const error = { ...post.errors, ...Validate(name, value).errors };\r\n      setPost({ ...post, errors: { ...error } });\r\n   };\r\n\r\n   const handleSubmit = e => {\r\n      e.preventDefault();\r\n      const { title, body } = post;\r\n      createPost({ title, body }, history);\r\n   };\r\n\r\n   return (\r\n      <PostForm\r\n         loading={loading}\r\n         post={post}\r\n         onChange={handleChange}\r\n         onBlur={handleBlur}\r\n         onSubmit={handleSubmit}\r\n      />\r\n   );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n   loading: state.post.postLoading,\r\n   errors: state.errors\r\n});\r\n\r\nCreatePostPage.propTypes = {\r\n   createPost: PropTypes.func.isRequired,\r\n   errors: PropTypes.object.isRequired,\r\n   loading: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default connect(\r\n   mapStateToProps,\r\n   { createPost }\r\n)(CreatePostPage);"]},"metadata":{},"sourceType":"module"}